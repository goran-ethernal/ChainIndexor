common_db: &common_db
  journal_mode: WAL
  synchronous: NORMAL
  busy_timeout: 5000
  cache_size: 10000
  max_open_connections: 25
  max_idle_connections: 5
  enable_foreign_keys: true

downloader:
  rpc_url: "https://mainnet.infura.io/v3/XXXX"
  chunk_size: 5000            # block range per eth_getLogs call
  finality: "finalized"       # "finalized", "safe", or "latest"
  db:
    <<: *common_db
    path: "./data/downloader.sqlite"
  # Optional: Log retention policy
  retention_policy:
    # Maximum database size in MB (0 = unlimited)
    max_db_size_mb: 0
    # Maximum blocks to keep behind finalized block (0 = keep all)
    max_blocks_from_finalized: 0

indexers:
  - name: "MyTokenIndexer"
    start_block: 17000000     # block to start indexing from
    db:
      <<: *common_db
      path: "./data/mytokenindexer.sqlite"
    contracts:
      - address: "0x1234567890abcdef1234567890abcdef12345678"
        events:
          - "Transfer(address,address,uint256)"
